'use strict';Phaser.Plugin.CameraShake=function(game,parent){Phaser.Plugin.call(this,game,parent);this._settings={shakeRange:20,shakeCount:10,shakeInterval:20,randomShake:false,randomizeInterval:true,shakeAxis:'xy'};this.game.camera.bounds=null;this._shakeCamera=function(){var temp_cnt=this._settings.shakeCount;var shake_timer=this.game.time.create(false);shake_timer.loop(this._settings.randomizeInterval?(Math.random()*this._settings.shakeInterval+
this._settings.shakeInterval):this._settings.shakeInterval,function(){if(this._settings.shakeCount==0){shake_timer.stop();this._settings.shakeCount=temp_cnt;return;}
var shift1,shift2;if(this._settings.randomShake){var shift1=this.game.rnd.integerInRange(-this._settings.shakeRange / 2,this._settings.shakeRange / 2);var shift2=this.game.rnd.integerInRange(-this._settings.shakeRange / 2,this._settings.shakeRange / 2);}
else{if(this._settings.shakeCount%2){shift1=shift2=-this._settings.shakeRange / 2;}
else{shift1=shift2=this._settings.shakeRange / 2;}}
if(this._settings.shakeAxis!="y")this.game.camera.x+=shift1;if(this._settings.shakeAxis!="x")this.game.camera.y+=shift2;this._settings.shakeCount--;},this);shake_timer.start();console.log(this._settings.shakeCount);};};Phaser.Plugin.CameraShake.prototype=Object.create(Phaser.Plugin.prototype);Phaser.Plugin.CameraShake.prototype.constructor=Phaser.Plugin.CameraShake;Phaser.Plugin.CameraShake.prototype.setup=function(obj){this._settings=Phaser.Utils.extend(false,this._settings,obj);};Phaser.Plugin.CameraShake.prototype.shake=function(){this._shakeCamera();};
